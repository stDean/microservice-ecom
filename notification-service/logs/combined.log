{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.431Z"}
{"level":"error","message":"Failed to connect to RabbitMQ: Connection failed","service":"notification-service","stack":"Error: Connection failed\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:100:28\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)","timestamp":"2025-10-12T14:06:22.452Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.459Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.464Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.466Z"}
{"level":"warn","message":"Message not published to RabbitMQ (backpressure)","routingKey":"verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.466Z"}
{"level":"error","message":"Failed to connect to RabbitMQ: Channel setup failed","service":"notification-service","stack":"Error: Channel setup failed\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:167:51\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)","timestamp":"2025-10-12T14:06:22.468Z"}
{"level":"error","message":"Error publishing message to RabbitMQ: Channel setup failed","service":"notification-service","stack":"Error: Channel setup failed\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:167:51\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)","timestamp":"2025-10-12T14:06:22.468Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.470Z"}
{"level":"error","message":"Error publishing message to RabbitMQ: Publish failed","service":"notification-service","stack":"Error: Publish failed\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:191:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20","timestamp":"2025-10-12T14:06:22.471Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.473Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.474Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.475Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.476Z"}
{"error":"Processing failed","level":"error","message":"Error processing message from RabbitMQ: {\"id\":\"123\",\"email\":\"test@example.com\",\"token\":\"abc123\"}","queue":"email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.476Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.478Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.478Z"}
{"error":"Processing failed","level":"error","message":"Error processing message from RabbitMQ: {\"id\":\"123\",\"email\":\"test@example.com\",\"token\":\"abc123\"}","queue":"email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.479Z"}
{"level":"warn","message":"Channel not available to nack message","queue":"email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.479Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.480Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.480Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.481Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.482Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.483Z"}
{"level":"info","message":"Started consuming messages from queue: email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.483Z"}
{"error":"Unexpected token 'i', \"invalid json\" is not valid JSON","level":"error","message":"Error processing message from RabbitMQ: invalid json","queue":"email_verification","service":"notification-service","timestamp":"2025-10-12T14:06:22.483Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.485Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.489Z"}
{"level":"error","message":"Error closing RabbitMQ connection: Close failed","service":"notification-service","stack":"Error: Close failed\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:379:26\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20","timestamp":"2025-10-12T14:06:22.489Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.490Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.492Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.499Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"notification-service","timestamp":"2025-10-12T14:06:22.500Z"}
{"level":"error","message":"Error publishing message to RabbitMQ: RabbitMQ channel not available","service":"notification-service","stack":"Error: RabbitMQ channel not available\n    at RabbitMQService.publishMessage (/Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/src/config/rabbitmq.ts:135:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/dean/Desktop/work/JS/big projects/microservice ecomerce/notification-service/tests/unit/rabbitmq.test.ts:467:7\n    at file:///Users/dean/Desktop/work/JS/big%20projects/microservice%20ecomerce/notification-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20","timestamp":"2025-10-12T14:06:22.502Z"}
